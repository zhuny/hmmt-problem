---
layout: default
title: hmmt-2024-feb-combinatorics-09
date: 2024-03-13 01:51 +0900
tags: hmmt
---

# Problem 09
## 문제
$f, g, h$함수가 $\{ 1, 2, 3, 4, 5 \}$의 permutation이고 다음을 만족한다.
* $f(g(h(x))) = h(g(f(x))) = g(x)$
* $g(h(f(x))) = f(h(g(x))) = h(x)$
* $h(f(g(x))) = g(f(h(x))) = f(x)$

이 때, $f, g, h$ 함수의 경우의 수를 구하시오.

## 해설
$f, g, h$를 $S_5$의 원소로 볼 수 있다.
이 때, 원소들의 order에 대해서 몇가지 사실을 알 수 있다.

1. $g = fgh = (gfh)gh = g(fhg)h = ghh$. 이에 따라 $hh = I$가 된다.
2. $fgh = g$ 양변에 $h$를 곱하면, $fghh = fg = gh$. 즉 $fgfgfg = fgghhf = I$가 된다.

이것으로, $f, g, h$의 order는 2의 약수이며, $fg$의 약수는 3의 약수이다.
약수가 2가 되기 위해서는 group은 길이가 2개인 cycle만 있어야 한다.

1. $f(a) = b, f(b) = a, f(c) = d, f(d) = c, f(e) = e$
2. $f(a) = b, f(b) = a, f(i) = i$ for $f = c, d, e$
3. $f = I$

여기서 $f, g$를 정하면, $h$의 값은 자연스럽게 정해지기 때문에 $f, g$의 경우의 수를 확인한다.
먼저 f와 g가 다른 경우 case1에 대해서 subcase로 f의 cycle 갯수에 따라 1-1, 1-2로 확인한다.
그 후, case2로 $f=g$인 경우를 확인한다.

### Case 1-1
$f(a) = b, f(b) = a, f(c) = d, f(d) = c, f(e) = e$

이 때에는 $g$도 cycle이 2개여야 $fg$의 order가 3이 되도록 할 수 있다.

즉, $f$의 경우의 수 15가지가 있다. 여기에 $f$가 정해진 상태에서 $g$의 경우의 수는 4가지 이다.
이것은 $f(e)$의 경우의 수와 같다.
$f(e)=c$라 하면, $f$에서 c와 pair인 d에 대해서 $g(d) = d$이다.
나머지 $a, b$는 $f(a)=b, f(b) = a$가 된다. 
따라서, 총 경우수는 60가지

### Case 1-2
$f(a) = b, f(b) = a$

이 때에 가능한 $g$는 $a, b$중 하나에 대해서 그 함수값이 $a, b$가 아닌 다른 값이 되는 경우다.
$f$의 경우의 수는 10가지이고, $f$가 정해졌을 때, $g$의 경우의 수는 $a, b$중 하나를 고르고,
그 함수값 $c, d, e$중 하나를 고르는 경우. 총 6가지이다.
따라서 이 경우도 총 60가지가. 있다.

### Case 2
$f = g$인 경우, Cycle이 2개인 경우 15개, cycle이 1개인 경우 10개, cycle이 0개인 경우 1개
총 26개가 된다.

총 경우의 수는 60 + 60 + 26 = 146개가 된다.